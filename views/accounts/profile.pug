extends ../layout.pug

block title
	title Profile

block content
	.container
		if (message.length > 0)
			.alert.alert-success.alert-dismissible
				button(type="button"
								class="close"
								data-dismiss="alert"
								aria-label="close")
					span(aria-hidden="true") &times;
				p #{message}
		.row
			.col-sm-6.col-md-4
				img(class="img-circle img-respinsive img-center" src=user.profile.picture alt="User Avatar")
				br
				p Name: #{user.profile.name}
				p Email: #{user.email}
				if(user.address === "" || typeof user.address === 'undefined')
					p 
						| Address: 
						span(style="color:#c0392b; font-weight: bold") You have no Address
				else
					p Address: #{user.address}

				a(href="/edit-profile" class="btn btn-primary" ) Edit
			.col-md-6
				h2.text-center Purchased Items History
				table.table.table-striped.sticky-header
					thead
						tr
							th Item's Name
							th.rightCell Paid:
					tbody
						- for (var i = 0; i < user.history.length; i++)
							tr
								td #{user.history[i].item.name}
								td.rightCell $#{user.history[i].paid}

